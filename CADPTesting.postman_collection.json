{
	"info": {
		"_postman_id": "7827a3d9-e138-47a6-9d96-d76c29812ab7",
		"name": "# CADP Testing",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "1323032",
		"_collection_link": "https://gold-flare-458244.postman.co/workspace/ACTIO-Team-Workspace~33d09e62-e454-445d-94e3-f06c936f26ab/collection/25521465-7827a3d9-e138-47a6-9d96-d76c29812ab7?action=share&creator=1323032&source=collection_link"
	},
	"item": [
		{
			"name": "1. Execute Type28 Deploy",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const transactionID = pm.collectionVariables.get(\"transactionID\")\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Content-Type is present\", function () {\r",
							"    pm.response.to.have.header(\"Content-Type\");\r",
							"});\r",
							"\r",
							"pm.test(\"Body matches string\", function () {\r",
							"     var jsonData = pm.response.json();\r",
							"    pm.expect(jsonData.msg).to.include(`2 channels initiated for transaction ID:`);\r",
							"    pm.expect(jsonData.result).to.include(\"{\\\"Channel\\\": 001@1.0, \\\"Result\\\":Incomplete},{\\\"Channel\\\": 002@1.0, \\\"Result\\\":Incomplete\");\r",
							"});\r",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"var uuid = require('uuid');",
							"var myUUID = uuid.v4();",
							"pm.collectionVariables.set(\"transactionID\", myUUID);",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"transaction\": {\r\n        \"TxTp\": \"pacs.002.001.12\",\r\n        \"FIToFIPmtSts\": {\r\n            \"GrpHdr\": {\r\n                \"MsgId\": \"asdf1234qwer\",\r\n                \"CreDtTm\": \"{{now}}\"\r\n            },\r\n            \"TxInfAndSts\": {\r\n                \"OrgnlInstrId\": \"asdf1234\",\r\n                \"OrgnlEndToEndId\": \"asdfqwer1234\",\r\n                \"TxSts\": \"ACCC\",\r\n                \"ChrgsInf\": [\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 307.14,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memDebt1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 153.57,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memDebt1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 30.71,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memCred1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                \"AccptncDtTm\": \"{{now}}\",\r\n                \"InstgAgt\": {\r\n                    \"FinInstnId\": {\r\n                        \"ClrSysMmbId\": {\r\n                            \"MmbId\": \"memDebt1\"\r\n                        }\r\n                    }\r\n                },\r\n                \"InstdAgt\": {\r\n                    \"FinInstnId\": {\r\n                        \"ClrSysMmbId\": {\r\n                            \"MmbId\": \"memCred1\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"typologyResult\": {\r\n        \"id\": \"028@1.0\",\r\n        \"cfg\": \"1.0\",\r\n        \"result\": 50,\r\n        \"ruleResults\": [\r\n            {\r\n                \"rule\": \"Rule_05_1.0\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            },\r\n            {\r\n                \"rule\": \"Rule_27_1.0\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            },\r\n            {\r\n                \"rule\": \"Rule_15_1.4\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            }\r\n        ]\r\n    },\r\n    \"networkMap\": {\r\n        \"_key\": \"26345403\",\r\n        \"_id\": \"networkConfiguration/26345403\",\r\n        \"_rev\": \"_cxc-1vO---\",\r\n        \"messages\": [\r\n            {\r\n                \"id\": \"001@1.0\",\r\n                \"host\": \"http://openfaas:8080\",\r\n                \"cfg\": \"1.0\",\r\n                \"txTp\": \"pain.001.001.11\",\r\n                \"channels\": [\r\n                    {\r\n                        \"id\": \"001@1.0\",\r\n                        \"host\": \"http://openfaas:8080\",\r\n                        \"cfg\": \"1.0\",\r\n                        \"typologies\": [\r\n                            {\r\n                                \"id\": \"028@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"028@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            {\r\n                                \"id\": \"029@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"005@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"id\": \"002@1.0\",\r\n                        \"host\": \"http://openfaas:8080\",\r\n                        \"cfg\": \"1.0\",\r\n                        \"typologies\": [\r\n                            {\r\n                                \"id\": \"030@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"006@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            {\r\n                                \"id\": \"031@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"007@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{ofUrl}}function/off-channel-aggregation-decisioning-processor{{version}}/execute",
					"host": [
						"{{ofUrl}}function"
					],
					"path": [
						"off-channel-aggregation-decisioning-processor{{version}}",
						"execute"
					]
				}
			},
			"response": []
		},
		{
			"name": "2. Execute Type29 Deploy",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const transactionID = pm.collectionVariables.get(\"transactionID\")\r",
							"\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Content-Type is present\", function () {\r",
							"    pm.response.to.have.header(\"Content-Type\");\r",
							"});\r",
							"\r",
							"pm.test(\"Body matches string\", function () {\r",
							"    var jsonData = pm.response.json();\r",
							"    var jsonReq = JSON.parse(pm.request.body);\r",
							"\r",
							"    pm.expect(jsonData.msg).to.include(`2 channels initiated for transaction ID:`);\r",
							"    pm.expect(jsonData.result).to.include(\"{\\\"Channel\\\": 001@1.0, \\\"Result\\\":Complete},{\\\"Channel\\\": 002@1.0, \\\"Result\\\":Incomplete\");\r",
							"    pm.expect(jsonData.tadpReqBody.transaction).to.eql(jsonReq.transaction);\r",
							"    pm.expect(jsonData.tadpReqBody.channelResult.typologyResult[1].ruleResults).to.eql(jsonReq.typologyResult.ruleResults);\r",
							"    pm.expect(jsonData.tadpReqBody.channelResult.typologyResult[0].result).to.eql(50);\r",
							"    pm.expect(jsonData.tadpReqBody.channelResult.typologyResult[1].result).to.eql(500);\r",
							"    pm.expect(jsonData.tadpReqBody.networkMap).to.eql(jsonReq.networkMap);\r",
							"});\r",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"transaction\": {\r\n        \"TxTp\": \"pacs.002.001.12\",\r\n        \"FIToFIPmtSts\": {\r\n            \"GrpHdr\": {\r\n                \"MsgId\": \"asdf1234qwer\",\r\n                \"CreDtTm\": \"{{now}}\"\r\n            },\r\n            \"TxInfAndSts\": {\r\n                \"OrgnlInstrId\": \"asdf1234\",\r\n                \"OrgnlEndToEndId\": \"asdfqwer1234\",\r\n                \"TxSts\": \"ACCC\",\r\n                \"ChrgsInf\": [\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 307.14,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memDebt1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 153.57,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memDebt1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 30.71,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memCred1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                \"AccptncDtTm\": \"{{now}}\",\r\n                \"InstgAgt\": {\r\n                    \"FinInstnId\": {\r\n                        \"ClrSysMmbId\": {\r\n                            \"MmbId\": \"memDebt1\"\r\n                        }\r\n                    }\r\n                },\r\n                \"InstdAgt\": {\r\n                    \"FinInstnId\": {\r\n                        \"ClrSysMmbId\": {\r\n                            \"MmbId\": \"memCred1\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"typologyResult\": {\r\n        \"id\": \"029@1.0\",\r\n        \"cfg\": \"1.0\",\r\n        \"result\": 500,\r\n        \"ruleResults\": [\r\n            {\r\n                \"rule\": \"Rule_05_1.0\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            },\r\n            {\r\n                \"rule\": \"Rule_27_1.0\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            },\r\n            {\r\n                \"rule\": \"Rule_15_1.4\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            }\r\n        ]\r\n    },\r\n    \"networkMap\": {\r\n        \"_key\": \"26345403\",\r\n        \"_id\": \"networkConfiguration/26345403\",\r\n        \"_rev\": \"_cxc-1vO---\",\r\n        \"messages\": [\r\n            {\r\n                \"id\": \"001@1.0\",\r\n                \"host\": \"http://openfaas:8080\",\r\n                \"cfg\": \"1.0\",\r\n                \"txTp\": \"pain.001.001.11\",\r\n                \"channels\": [\r\n                    {\r\n                        \"id\": \"001@1.0\",\r\n                        \"host\": \"http://openfaas:8080\",\r\n                        \"cfg\": \"1.0\",\r\n                        \"typologies\": [\r\n                            {\r\n                                \"id\": \"028@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"028@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            {\r\n                                \"id\": \"029@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"005@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"id\": \"002@1.0\",\r\n                        \"host\": \"http://openfaas:8080\",\r\n                        \"cfg\": \"1.0\",\r\n                        \"typologies\": [\r\n                            {\r\n                                \"id\": \"030@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"006@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            {\r\n                                \"id\": \"031@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"007@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{ofUrl}}function/off-channel-aggregation-decisioning-processor{{version}}/execute",
					"host": [
						"{{ofUrl}}function"
					],
					"path": [
						"off-channel-aggregation-decisioning-processor{{version}}",
						"execute"
					]
				}
			},
			"response": []
		},
		{
			"name": "3. Execute Type30 Deploy",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const transactionID = pm.collectionVariables.get(\"transactionID\")\r",
							"\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Content-Type is present\", function () {\r",
							"    pm.response.to.have.header(\"Content-Type\");\r",
							"});\r",
							"\r",
							"pm.test(\"Body matches string\", function () {\r",
							"     var jsonData = pm.response.json();\r",
							"   pm.expect(jsonData.msg).to.include(`2 channels initiated for transaction ID:`);\r",
							"    pm.expect(jsonData.result).to.include(\"{\\\"Channel\\\": 001@1.0, \\\"Result\\\":Incomplete},{\\\"Channel\\\": 002@1.0, \\\"Result\\\":Incomplete\");\r",
							"    pm.expect(jsonData.tadpReqBody).to.eql(undefined);\r",
							"});\r",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"var uuid = require('uuid');",
							"var myUUID = uuid.v4();",
							"pm.collectionVariables.set(\"transactionID\", myUUID);",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"transaction\": {\r\n        \"TxTp\": \"pacs.002.001.12\",\r\n        \"FIToFIPmtSts\": {\r\n            \"GrpHdr\": {\r\n                \"MsgId\": \"asdf1234qwer\",\r\n                \"CreDtTm\": \"{{now}}\"\r\n            },\r\n            \"TxInfAndSts\": {\r\n                \"OrgnlInstrId\": \"asdf1234\",\r\n                \"OrgnlEndToEndId\": \"asdfqwer1234\",\r\n                \"TxSts\": \"ACCC\",\r\n                \"ChrgsInf\": [\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 307.14,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memDebt1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 153.57,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memDebt1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 30.71,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memCred1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                \"AccptncDtTm\": \"{{now}}\",\r\n                \"InstgAgt\": {\r\n                    \"FinInstnId\": {\r\n                        \"ClrSysMmbId\": {\r\n                            \"MmbId\": \"memDebt1\"\r\n                        }\r\n                    }\r\n                },\r\n                \"InstdAgt\": {\r\n                    \"FinInstnId\": {\r\n                        \"ClrSysMmbId\": {\r\n                            \"MmbId\": \"memCred1\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"typologyResult\": {\r\n        \"id\": \"030@1.0\",\r\n        \"cfg\": \"1.0\",\r\n        \"result\": 500,\r\n        \"ruleResults\": [\r\n            {\r\n                \"rule\": \"Rule_05_1.0\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            },\r\n            {\r\n                \"rule\": \"Rule_27_1.0\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            },\r\n            {\r\n                \"rule\": \"Rule_15_1.4\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            }\r\n        ]\r\n    },\r\n    \"networkMap\": {\r\n        \"_key\": \"26345403\",\r\n        \"_id\": \"networkConfiguration/26345403\",\r\n        \"_rev\": \"_cxc-1vO---\",\r\n        \"messages\": [\r\n            {\r\n                \"id\": \"001@1.0\",\r\n                \"host\": \"http://openfaas:8080\",\r\n                \"cfg\": \"1.0\",\r\n                \"txTp\": \"pain.001.001.11\",\r\n                \"channels\": [\r\n                    {\r\n                        \"id\": \"001@1.0\",\r\n                        \"host\": \"http://openfaas:8080\",\r\n                        \"cfg\": \"1.0\",\r\n                        \"typologies\": [\r\n                            {\r\n                                \"id\": \"028@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"028@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            {\r\n                                \"id\": \"029@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"005@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"id\": \"002@1.0\",\r\n                        \"host\": \"http://openfaas:8080\",\r\n                        \"cfg\": \"1.0\",\r\n                        \"typologies\": [\r\n                            {\r\n                                \"id\": \"030@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"006@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            {\r\n                                \"id\": \"031@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"007@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{ofUrl}}function/off-channel-aggregation-decisioning-processor{{version}}/execute",
					"host": [
						"{{ofUrl}}function"
					],
					"path": [
						"off-channel-aggregation-decisioning-processor{{version}}",
						"execute"
					]
				}
			},
			"response": []
		},
		{
			"name": "4. Execute Type31 Deploy",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const transactionID = pm.collectionVariables.get(\"transactionID\")\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Content-Type is present\", function () {\r",
							"    pm.response.to.have.header(\"Content-Type\");\r",
							"});\r",
							"\r",
							"pm.test(\"Body matches string\", function () {\r",
							"    var jsonData = pm.response.json();\r",
							"        var jsonReq = JSON.parse(pm.request.body);\r",
							"\r",
							"    pm.expect(jsonData.msg).to.include(`2 channels initiated for transaction ID:`);\r",
							"     pm.expect(jsonData.result).to.include(\"{\\\"Channel\\\": 001@1.0, \\\"Result\\\":Incomplete},{\\\"Channel\\\": 002@1.0, \\\"Result\\\":Complete\");\r",
							"     pm.expect(jsonData.tadpReqBody.transaction).to.eql(jsonReq.transaction);\r",
							"    pm.expect(jsonData.tadpReqBody.channelResult.typologyResult[1].ruleResults).to.eql(jsonReq.typologyResult.ruleResults);\r",
							"    pm.expect(jsonData.tadpReqBody.channelResult.typologyResult[0].result).to.eql(500);\r",
							"    pm.expect(jsonData.tadpReqBody.channelResult.typologyResult[1].result).to.eql(55);\r",
							"    pm.expect(jsonData.tadpReqBody.networkMap).to.eql(jsonReq.networkMap);\r",
							"\r",
							"});\r",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const transactionID = pm.collectionVariables.get(\"transactionID\")",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"transaction\": {\r\n        \"TxTp\": \"pacs.002.001.12\",\r\n        \"FIToFIPmtSts\": {\r\n            \"GrpHdr\": {\r\n                \"MsgId\": \"asdf1234qwer\",\r\n                \"CreDtTm\": \"{{now}}\"\r\n            },\r\n            \"TxInfAndSts\": {\r\n                \"OrgnlInstrId\": \"asdf1234\",\r\n                \"OrgnlEndToEndId\": \"asdfqwer1234\",\r\n                \"TxSts\": \"ACCC\",\r\n                \"ChrgsInf\": [\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 307.14,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memDebt1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 153.57,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memDebt1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        \"Amt\": {\r\n                            \"Amt\": 30.71,\r\n                            \"Ccy\": \"USD\"\r\n                        },\r\n                        \"Agt\": {\r\n                            \"FinInstnId\": {\r\n                                \"ClrSysMmbId\": {\r\n                                    \"MmbId\": \"memCred1\"\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                \"AccptncDtTm\": \"{{now}}\",\r\n                \"InstgAgt\": {\r\n                    \"FinInstnId\": {\r\n                        \"ClrSysMmbId\": {\r\n                            \"MmbId\": \"memDebt1\"\r\n                        }\r\n                    }\r\n                },\r\n                \"InstdAgt\": {\r\n                    \"FinInstnId\": {\r\n                        \"ClrSysMmbId\": {\r\n                            \"MmbId\": \"memCred1\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"typologyResult\": {\r\n        \"id\": \"031@1.0\",\r\n        \"cfg\": \"1.0\",\r\n        \"result\": 55,\r\n        \"ruleResults\": [\r\n            {\r\n                \"rule\": \"Rule_05_1.0\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            },\r\n            {\r\n                \"rule\": \"Rule_27_1.0\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            },\r\n            {\r\n                \"rule\": \"Rule_15_1.4\",\r\n                \"result\": true,\r\n                \"subRuleRef\": \"\",\r\n                \"reason\": \"\"\r\n            }\r\n        ]\r\n    },\r\n    \"networkMap\": {\r\n        \"_key\": \"26345403\",\r\n        \"_id\": \"networkConfiguration/26345403\",\r\n        \"_rev\": \"_cxc-1vO---\",\r\n        \"messages\": [\r\n            {\r\n                \"id\": \"001@1.0\",\r\n                \"host\": \"http://openfaas:8080\",\r\n                \"cfg\": \"1.0\",\r\n                \"txTp\": \"pain.001.001.11\",\r\n                \"channels\": [\r\n                    {\r\n                        \"id\": \"001@1.0\",\r\n                        \"host\": \"http://openfaas:8080\",\r\n                        \"cfg\": \"1.0\",\r\n                        \"typologies\": [\r\n                            {\r\n                                \"id\": \"028@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"028@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            {\r\n                                \"id\": \"029@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"005@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        \"id\": \"002@1.0\",\r\n                        \"host\": \"http://openfaas:8080\",\r\n                        \"cfg\": \"1.0\",\r\n                        \"typologies\": [\r\n                            {\r\n                                \"id\": \"030@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"006@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            {\r\n                                \"id\": \"031@1.0\",\r\n                                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\r\n                                \"cfg\": \"1.0\",\r\n                                \"rules\": [\r\n                                    {\r\n                                        \"id\": \"003@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    },\r\n                                    {\r\n                                        \"id\": \"007@1.0\",\r\n                                        \"host\": \"http://openfaas:8080\",\r\n                                        \"cfg\": \"1.0\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{ofUrl}}function/off-channel-aggregation-decisioning-processor{{version}}/execute",
					"host": [
						"{{ofUrl}}function"
					],
					"path": [
						"off-channel-aggregation-decisioning-processor{{version}}",
						"execute"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "transactionID",
			"value": ""
		}
	]
}